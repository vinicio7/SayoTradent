!function(){angular.module("app.ctrls").controller("CalendarDemoCtrl",["$scope","uiCalendarConfig","$compile",function($scope,uiCalendarConfig,$compile){var cc=uiCalendarConfig.calendars,date=new Date,d=date.getDate(),m=date.getMonth(),y=date.getFullYear();$scope.events=[{title:"All Day Event",start:new Date(y,m,1)},{title:"Very Long Event",start:new Date(y,m,d+10,11,22),end:new Date(y,m,d+13),className:"bg-primary",description:"Short description about event"},{id:999,title:"Repeating Event",start:new Date(y,m,d-3,16,33),allDay:!1,className:"bg-danger"},{title:"Repeating Event",start:new Date(y,m,d+4,13,45),className:"bg-warning"},{title:"Birthday Party",start:new Date(y,m,d+1,19,0),end:new Date(y,m,d+1,22,30),allDay:!1,description:"Come to my birthday.",className:"bg-info"},{title:"Click for Google",start:new Date(y,m,28),end:new Date(y,m,29),url:"http://google.com/",className:"bg-success"}],$scope.events.forEach(function(a,i){a.humanDate=moment(a.start).format("MMM DD")+" - "+moment(a.end).format("MMM DD")}),$scope.eventSources=[$scope.events],$scope.eventRender=function(event,elem,view){elem.attr({tooltip:"Start Time: "+moment(event.start).format("MMM DD hh:mm"),"tooltip-append-to-body":!0}),$compile(elem)($scope)},$scope.uiConfig={calendar:{height:480,editable:!0,defaultView:"month",header:!1,eventRender:$scope.eventRender}},$scope.currentDate=moment().format("MMMM YYYY"),$scope.addEvent=function(){var start=new Date(y,m,d);$scope.events.push({title:"New Event",start:start,humanDate:moment(start).format("MMM DD")+" - "})},$scope.removeEvent=function(index){$scope.events.splice(index,1)},$scope.changeEventColor=function(index,name){$scope.events[index].className=name},$scope.changeView=function(view,calendar){cc[calendar].fullCalendar("changeView",view),$scope.currentDate=cc[calendar].fullCalendar("getView").title},$scope.prev=function(calendar){cc[calendar].fullCalendar("prev"),$scope.currentDate=cc[calendar].fullCalendar("getView").title},$scope.next=function(calendar){cc[calendar].fullCalendar("next"),$scope.currentDate=cc[calendar].fullCalendar("getView").title},$scope.today=function(calendar){cc[calendar].fullCalendar("today"),$scope.currentDate=cc[calendar].fullCalendar("getView").title}}])}();